# クイズアプリ 要件定義書

## 概要

クイズ形式で問題を複数連続で解いていくアプリケーション。問題は四択問題や組み合わせを選ぶ問題など、複数のパターンに対応する。画面はhome、クイズ画面、リザルト画面、集計画面に分かれる。

## ユーザストーリー

### ストーリー1: クイズに挑戦する

- **である** 学習者 **として**
- **私は** 様々な形式のクイズに挑戦 **をしたい**
- **そうすることで** 知識を定着させ、学習効果を高める

### ストーリー2: 結果を確認する

- **である** 学習者 **として**
- **私は** クイズの結果をすぐに確認 **をしたい**
- **そうすることで** 自分の理解度を把握し、復習に役立てる

### ストーリー3: 学習の進捗を確認する

- **である** 学習者 **として**
- **私は** これまでの学習履歴や成績 **を確認したい**
- **そうすることで** モチベーションを維持し、学習計画を立てやすくする

### ストーリー5: カスタムクイズに挑戦する

- **である** 学習者 **として**
- **私は** 複数のカテゴリを組み合わせ、出題数を選択してクイズに挑戦 **をしたい**
- **そうすることで** より柔軟な学習体験を得る

## 機能要件（EARS記法）

### 通常要件

- REQ-001: システムは、ユーザーに四択問題を提供しなければならない。
- REQ-002: システムは、ユーザーに組み合わせ問題を提供しなければならない。
- REQ-003: システムは、クイズの正解/不正解を判定しなければならない。
- REQ-004: システムは、クイズの結果（正解数、正解率など）を表示しなければならない。
- REQ-005: システムは、過去のクイズ結果を集計し、表示しなければならない。
- REQ-006: システムは、Home画面、クイズ画面、リザルト画面、集計画面を提供しなければならない。
- REQ-007: システムは、問題をJSON形式で読み込むことができなければならない。
- REQ-008: システムは、各クイズにカテゴリを設定できなければならない。
- REQ-009: システムは、カテゴリごとの集計結果を表示できなければならない。
- REQ-010: システムは、ユーザーが挑戦するクイズのカテゴリを複数選択できなければならない。
- REQ-011: システムは、選択されたカテゴリの問題からランダムに出題しなければならない。
- REQ-012: システムは、ユーザーが出題数（10/20/50問）を選択できる機能を提供しなければならない。
- REQ-013: システムは、ユーザーが一度選択した四択問題の解答を変更、または選択解除できる機能を提供しなければならない。

### 条件付き要件

- REQ-101: ユーザーが回答を選択した場合、システムは次の問題を表示しなければならない。
- REQ-102: 全ての問題に回答した場合、システムはリザルト画面を表示しなければならない。

### 状態要件

- REQ-201: クイズ挑戦中にアプリを中断した場合、システムは中断した問題から再開できるようにしなければならない。（オプション）

### オプション要件

- REQ-301: システムは、制限時間を設定する機能を提供してもよい。

### 制約要件

- REQ-401: システムは、Webブラウザ上で動作しなければならない。

## 非機能要件

### パフォーマンス

- NFR-001: 画面遷移は2秒以内に完了すること。
- NFR-002: クイズの回答は、ユーザーのアクション後1秒以内にサーバーに送信されること。

### セキュリティ

- NFR-101: ユーザーの学習データは、不正なアクセスから保護されなければならない。

### ユーザビリティ

- NFR-201: 操作方法は直感的で、マニュアルなしで利用できること。
- NFR-202: 各画面のデザインは一貫性があり、ユーザーが混乱しないこと。

## Edgeケース

### エラー処理

- EDGE-001: 通信エラーが発生した場合、ユーザーにエラーメッセージを表示し、再試行を促すこと。

### 境界値

- EDGE-101: 問題数が0問の場合、クイズを開始できないようにすること。
- EDGE-102: 選択したカテゴリの問題数の合計が、選択した出題数に満たない場合、その旨をユーザーに通知すること。

## 受け入れ基準

### 機能テスト

- [ ] 四択問題が正しく表示され、回答できること。
- [ ] 組み合わせ問題が正しく表示され、回答できること。
- [ ] クイズの結果が正しく計算され、リザルト画面に表示されること。
- [ ] 集計画面で、過去の成績が正しく表示されること。
- [ ] Home画面から各画面へ正しく遷移できること。
- [ ] カテゴリごとの集計結果が正しく表示されること。
- [ ] 複数のカテゴリを選択してクイズを開始できること。
- [ ] 問題がランダムな順序で出題されること。
- [ ] 選択した出題数（10/20/50）でクイズが終了すること。

### 非機能テスト

- [ ] 画面遷移のレスポンスタイムを計測し、2秒以内であることを確認する。
- [ ] ネットワーク遅延を擬似的に発生させ、エラーメッセージが正しく表示されることを確認する。

## データ永続化

- **初期**: Local Storage
- **最終**: Firestore