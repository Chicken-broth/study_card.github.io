# 7. 学習履歴リセット機能の追加

**ステータス**: 提案

## コンテキスト

- 開発やテストの過程で、アプリケーションの状態を初期化したいという要求が頻繁に発生します。
- 特に、学習履歴（`quiz_results`）はユーザーの操作によって蓄積されていくため、フィルター機能（未回答のみ表示など）の動作確認を行う際に、手動でIndexedDBをクリアするのは非効率です。
- ユーザー自身も、心機一転して学習をやり直したい場合に、履歴をリセットしたいと考える可能性があります。
- 現状の実装には、UIから学習履歴を簡単にリセットする機能が存在しません。

## 決定

- Home画面 (`quiz_home.gleam`) に「学習履歴をリセット」ボタンを設置します。
- このボタンをクリックすると、IndexedDB内の `quiz_results` オブジェクトストアに保存されているすべてのデータが削除されます。
- 削除処理は、`indexedDB_ffi.mjs` に `resetQuizResults` 関数を新たに実装し、これをGleam側から呼び出すことで実現します。
- 処理完了後、Home画面はリセットされた状態を反映して再描画されます。

## 結果

- **ポジティブ**:
  - 開発者やテスターは、UI上の操作のみで迅速にテストデータ（学習履歴）を初期化でき、開発効率が向上します。
  - ユーザーは自身の学習データを任意でリセットできるようになり、アプリケーションの柔軟性が高まります。
- **ネガティブ**:
  - ユーザーが誤ってボタンをクリックした場合、確認ダイアログなしでは学習履歴が意図せず失われるリスクがあります。（今回は確認ダイアログの実装は見送りますが、将来的な改善点として考慮します。）