# ADR-001: フロントエンド開発にLustreフレームワークを採用

*   **ステータス**: 承認済み
*   **日付**: 2023-10-27

## コンテキスト (背景)

このプロジェクトでは、Gleam言語を用いてリアクティブなシングルページアプリケーション（SPA）を構築する必要があります。

アプリケーションが成長するにつれて、状態管理、ユーザーインタラクション、UIのレンダリングを体系的に扱う仕組みが不可欠です。DOMを直接操作するアプローチは、コードが複雑化し、デバッグが困難になるリスクを伴います。

Gleamの強力な型システムと関数型のパラダイムを活かしつつ、宣言的でメンテナンス性の高いUIを構築するためのフレームワークが求められていました。

## 決定

フロントエンドのUI構築フレームワークとして **`Lustre`** を採用します。

これにより、アプリケーションは `Lustre` が提供する The Elm Architecture (TEA) パターンに沿って構築されます。

*   **`Model`**: アプリケーションの状態を保持する唯一の情報源。
*   **`view`**: 現在の `Model` に基づいてUIをレンダリングする純粋関数。
*   **`update`**: `Msg`（イベント）を受け取り、`Model` を更新する純粋関数。
*   **`init`**: アプリケーションの初期状態を生成する。

## 結果 (Consequences)

### ポジティブな側面

*   **予測可能な状態管理**: 状態と更新ロジックが一元化されるため、データの流れが単一方向になり、デバッグが容易になります。
*   **型安全なView**: Gleamの型システムにより、`view` 関数に渡されるデータがコンパイル時に保証され、実行時エラーが減少します。
*   **宣言的なUI**: 「ある状態のときにUIがどうあるべきか」を記述することに集中でき、DOMの具体的な操作はフレームワークに任せられます。
*   **コンポーネント化**: `view` 関数を小さく分割することで、再利用可能で関心事が分離されたコンポーネントを自然に作成できます。

### ネガティブな側面

*   **学習コスト**: The Elm Architecture (TEA) に慣れていない開発者は、その概念（Model-View-Update）を習得するための時間が必要です。
*   **定型コードの増加**: 単純なインタラクションに対しても、`Msg` の定義、`update` 関数への分岐追加など、ある程度の定型コード（ボイラープレート）が必要になります。


